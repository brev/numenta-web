<!DOCTYPE html>
 <html lang="en"><head><title data-react-helmet="true">Wait, the brain is a Bloom filter? - @petrillic | Numenta.com</title><meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="X-UA-Compatible" content="IE=edge"/><meta data-react-helmet="true" name="author" content="Numenta"/><meta data-react-helmet="true" name="description" content="Numenta — Leading the New Era of Machine Intelligence"/><meta data-react-helmet="true" name="generator" content="© Numenta.com v0.2.80 Wed Aug 31 2016 17:04:32 GMT-0700 Gatsby.js"/><meta data-react-helmet="true" name="keywords" content="Numenta,—,Leading,the,New,Era,of,Machine,Intelligence"/><link data-react-helmet="true" rel="shortcut icon" href="/numenta-web/assets/icons/favicon.ico?v=0.2.80"/><link data-react-helmet="true" rel="stylesheet" href="/numenta-web/styles.css?v=0.2.80"/><script> var _prum = [['id', '569029d1abe53daf465fa724'], ['mark', 'firstbyte', (new Date()).getTime()]]; (function() { var s = document.getElementsByTagName('script')[0], p = document.createElement('script'); p.async = 'async'; p.src = '//rum-static.pingdom.net/prum.min.js'; s.parentNode.insertBefore(p, s); })(); </script></head><body class="body"><div id="react-mount"><div class="index_layout_2AP tachyons_f4_1Zt tachyons_f5-ns_QvA tachyons_fw4_3tj" data-reactroot="" data-reactid="1" data-react-checksum="1211833302"><div class="index_appbar_2mn tachyons_bg-white_WF0 tachyons_fixed_I-c tachyons_h3_bmk tachyons_ph3_Qxl tachyons_shadow-1_8y5 tachyons_top-0_2pS tachyons_w-100_1xC" data-reactid="2"><header class="index_header_Rq- tachyons_center_iwf tachyons_cf_g7R tachyons_mw-100_ge3 tachyons_mw7-m_FjT tachyons_mw8-l_KcP" data-reactid="3"><div class="index_logo_36F tachyons_fl_wJK tachyons_relative_1fO tachyons_top-1_UVW" data-reactid="4"><a class="index_imagelink_21G tachyons_dim_1n1 tachyons_link_2zV theme_color-blue_2lo index__visited_2Z4" href="/numenta-web/" data-reactid="5"><img alt="Numenta Logo" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H" src="/numenta-web/78d7c43a01aa37f432db4cb375ee2b7f.svg" title="Numenta" data-reactid="6"/></a></div><div class="index_search__jD tachyons_fr_2Nn tachyons_mt3_11A" data-reactid="7"><div class="index_search_2I5 tachyons_cf_g7R" data-reactid="8"><form accept-charset="UTF-8" autocomplete="off" class="index_form_G7v tachyons_pa0_RbR tachyons_mb3_1mV tachyons_mh0_2XV tachyons_mt0_12u" enctype="multipart/form-data" method="post" data-reactid="9"><span class="index_label_SMm tachyons_clip_2YG" data-reactid="10"><label class="index_formLabel_3xq tachyons_f5_2mB tachyons_fl_wJK tachyons_fw6_1NV tachyons_mb3_1mV tachyons_mr3_1Ez tachyons_relative_1fO tachyons_v-top_1JD tachyons_w4_3jJ" for="q" data-reactid="11">Search</label></span><span class="index_query_2PZ tachyons_fl_wJK tachyons_flex_22H tachyons_h2_1bn tachyons_mb2_1U4 tachyons_relative_1fO tachyons_w4_3jJ tachyons_w5-ns_1tF" data-reactid="12"><input type="search" class="index_formInput_11I tachyons_ba_1NL tachyons_b--black-20_1zc tachyons_br2_rOa tachyons_f5_2mB tachyons_flex-auto_1Fv tachyons_fw3_3xI tachyons_input-reset_3Az tachyons_pb1_2R8 tachyons_ph2_2up tachyons_pt2_3ym tachyons_silver_3lN index__focus_Yiy index_large_2Vg" id="q" name="q" placeholder="Search..." value="" data-reactid="13"/></span><button class="index_button_2lC tachyons_br2_rOa tachyons_dim_1n1 tachyons_flex-auto_1Fv tachyons_ma0_2xh tachyons_pointer_25K index__disabled_1OX index_light_4I5 tachyons_bg-white_WF0 tachyons_bn_3W7 tachyons_f4_1Zt tachyons_pa1_3f3 theme_color-blue_2lo" type="submit" data-reactid="14"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;color:inherit;" data-reactid="15"><g data-reactid="16"><path d="m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z" data-reactid="17"></path></g></svg></button></form></div></div></header></div><main class="index_main_3-E tachyons_bg-white_WF0 tachyons_br--bottom_1e0 tachyons_br2_rOa tachyons_center_iwf tachyons_mt5_2gs tachyons_mw-100_ge3 tachyons_mw7-m_FjT tachyons_mw8-l_KcP tachyons_overflow-hidden_LTN tachyons_pb4_38s tachyons_ph3_Qxl tachyons_ph4-l_pNz tachyons_pt3_1QC" data-reactid="18"><!-- react-empty: 19 --><!-- react-empty: 20 --><article class="md_md_tlm tachyons_center_iwf tachyons_lh-copy_15f tachyons_measure_hbr tachyons_measure-wide-l_2Qf" data-reactid="21"><!-- react-empty: 22 --><div class="md_date_1QT tachyons_fw5_3Jq tachyons_lh-copy_15f tachyons_mb2_1U4 tachyons_ttc_3Js" data-reactid="23"><time class="index_time_1rc" datetime="2012-10-07T00:00:00-07:00" data-reactid="24">Sun, Oct 07, 2012</time><span data-reactid="25"><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="26">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/blog/" data-reactid="27">Blog</a></span></div><section class="index_section_3GC" data-reactid="28"><h1 class="index_headline_36i tachyons_f2_ipM index__base_3qa tachyons_black_2yD tachyons_fw6_1NV tachyons_lh-title_1xo tachyons_mv1_3WP tachyons_pa0_RbR" data-reactid="29">Wait, the brain is a Bloom filter? - @petrillic</h1><div class="index_article_2RF tachyons_mb1_2-H tachyons_mt3_11A" data-reactid="30"><div class="md_author_1KZ tachyons_lh-copy_15f tachyons_relative_1fO" data-reactid="31"><span class="index_subtle_3vb tachyons_silver_3lN" data-reactid="32"><span class="index_avatar_3mh tachyons_dib_1gH tachyons_mr2_2P1 tachyons_relative_1fO tachyons_v-mid_2J0" data-reactid="33"><img alt="Ian Danforth" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H index_border_3eG tachyons_b--black-10_14L tachyons_ba_1NL index_round_1wy tachyons_br-100_aI5" src="/numenta-web/bb1a361a8be804d959749b80052de379.png" title="Ian Danforth" data-reactid="34"/></span><!-- react-text: 35 -->Ian Danforth<!-- /react-text --><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="36">•</span><!-- react-text: 37 -->Engineering<!-- /react-text --></span></div><div class="md_image_b8j tachyons_tc_3ab" data-reactid="38"><img alt="Wait, the brain is a Bloom filter? - @petrillic" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H index_border_3eG tachyons_b--black-10_14L tachyons_ba_1NL index_mw_3jc tachyons_mw-100_ge3 index_shadow_14n tachyons_shadow-4_3--" src="/numenta-web/blog/2012/10/07/wait-the-brain-is-a-bloom-filter/../images/bloom-thumb.jpg" data-reactid="39"/></div><div class="md_content_11f md__dropcap_3sI" data-reactid="40"><div class="index_markdown_3l2 tachyons_center_iwf tachyons_lh-copy_15f tachyons_measure_hbr tachyons_measure-wide-l_2Qf" data-reactid="41"><div data-reactid="42"><p>This insightful tweet came from the Strangeloop keynote after Jeff Hawkins
described Sparse Distributed Representations (SDRs). This isn’t the first time
someone has noticed that SDRs and Bloom filters use similar data structures, so
we’d like to describe the significant differences in their implementation and
capabilities.</p>
<p>Bloom filters are a fast and memory-efficient way to tell if you’ve seen
something before. They can tell you with 100% confidence that something is new,
though they can’t tell you for sure if an input has been seen before. (See this
<a href="http://billmill.org/bloomfilter-tutorial/">excellent visualization by Bill Mill</a>).</p>
<p>SDRs, core to Numenta’s Cortical Learning Algorithm, are the way we represent
and recognize inputs in a system like Grok:</p>
<blockquote>
<p>The concept of SDRs comes from neuroscience, where sometimes it is called
sparse coding. SDRs are the language of brains in the same way that bytes and
words are the language of digital computers.  Sparse distributed
representations have several desirable properties including high capacity,
graceful degradation, tolerance to errors, and the ability to simultaneously
represent multiple values in one representation.</p>
</blockquote>
<p>Both Bloom filters and SDRs store information in data structures called bit
arrays (or vectors), long strings where each character is either a one or a
zero. When encountering a new input, both create a representation of that input
by selecting a set of those bits to set as ones, or as we say “turn on.” Because
both choose a small subset of the bits to turn on, these representations can
both be considered “sparse.” Both, depending on the size of the array, have a
high capacity to store many inputs, and both can represent multiple inputs
simultaneously.</p>
<p>We need a bit more detail about Bloom filters to understand how they differ
fundamentally from SDRs.</p>
<p><img src="../images/bloom-thumb.jpg" alt="Bloom Filter" title="Bloom filter image"></p>
<p>To create a Bloom filter, you select one or more hashes. These are functions
that take an input and select which small set of bits to turn on in the bit
array.</p>
<p>Three key properties determine the efficient and predictable nature of Bloom
filters. Take, for example, a Bloom filter with three inputs: “Monday”,
“Thursday”, “Friday.” In a Bloom filter, the output bits representing these
inputs are uniformly distributed across the bit array.  The representation of
these outputs are independent of any similarities from the inputs.  And each
input always maps to the same output representations.</p>
<p>SDRs, on the other hand, assume the exact opposite!</p>
<p>Modeled after the brain, SDRs care about <em>semantic</em> relationships. We care that
inputs with similar meanings are stored in similar ways.  Because Thursday is
much closer to Friday than it is to Monday, SDR representations of the inputs
&quot;Thursday&quot; and “Friday” are similar!</p>
<p>Semantic relationships allow an SDR to answer not only the question, “Have you
ever seen this?” but also the question “Have you ever seen something <em>like</em>
this?”   Today we store inputs in a bit array that is 2000 bits long. Each new
input turns on 40 of those bits. If two inputs are very similar they may share a
good number of bits that get turned on (violating the independence assumption of
Bloom filters) and if they are very different they will almost certainly have a
very different set.</p>
<p>Going back to our example, let’s show a Bloom filter and an SDR the input
&quot;Saturday.&quot; If “Saturday” contains a single bit that is not on in the filter,
the Bloom filter confidently tells us it has never seen that before. An SDR, on
the other hand, would say, “Wait a minute, I’ve seen something close to that,
how about “Friday”?” An SDR is <em>robust</em> to some variations in input and is able
to <em>generalize</em> based on semantic closeness of inputs to previously seen values.
These properties are crucial in allowing Grok to correctly identify the same
object in different circumstances.</p>
<p>Similar inputs get blended, or, as we say, “pooled” together. When we retrieve
values from our data structure even a small overlap on the input will generate
some output. You could say our false positive rate is much higher than a Bloom
filter. However, overlapping inputs allow us to group similar things together.
Also because SDRs produce output when there are partial matches, they are
tolerant of noise. We can recognize two similar inputs even if they are
obscured, just like a human can recognize a loved-one’s face even through the
branches of a tree, or a familiar voice in a noisy room.</p>
<p>A false positive for a Bloom filter, in contrast, doesn’t mean anything. It’s
governed by chance, not semantic closeness. Bloom filters  throw away
similarities in inputs, whereas  SDRs take advantage of them.</p>
<p>SDRs also differ by having dynamic representations. They change over time. The
same input doesn’t always map to the same representation. When learning new
things, which representation you end up with in the SDR depends on what the
system has seen before. In addition if you haven’t seen an input for a while its
representation may have degraded somewhat. Because SDRs retain representations
strongly that are regularly reinforced and forget ones that are not, SDRs learn
and retain the most important inputs without getting “filled up” by noise. A
Bloom filter is static and will continue to get filled up for as long as it
continues to see new inputs. But then again, a Bloom filter that &quot;forgot&quot;
wouldn’t be very useful.</p>
<p>As you can see,  combining values and storing them in a bit array is a powerful
idea. You can end up with a memory-efficient test like the Bloom filter, or a
learning system that is general purpose, robust, adaptive, and high capacity
like SDRs.  There’s actually much more to SDRs. I’ve only described the use of
SDRs in a component of our system called the Spatial Pooler. There’s a whole
other set of representations in our Temporal Pooler that we don’t have time to
go into here.</p>
<p>You can find more information on SDRs, their properties and how they relate to
the brain, in <a href="http://youtu.be/A8sHMcCk0lU">another recent keynote</a> by Jeff
Hawkins.</p>
<p>For more information on Bloom filters,
<a href="http://en.wikipedia.org/wiki/Bloom_filter">the wikipedia article</a> is
<em>reasonably</em> accessible.</p>
</div></div></div><div class="md_author_1KZ tachyons_lh-copy_15f tachyons_relative_1fO" data-reactid="43"><span class="index_subtle_3vb tachyons_silver_3lN" data-reactid="44"><span class="index_avatar_3mh tachyons_dib_1gH tachyons_mr2_2P1 tachyons_relative_1fO tachyons_v-mid_2J0" data-reactid="45"><img alt="Ian Danforth" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H index_border_3eG tachyons_b--black-10_14L tachyons_ba_1NL index_round_1wy tachyons_br-100_aI5" src="/numenta-web/bb1a361a8be804d959749b80052de379.png" title="Ian Danforth" data-reactid="46"/></span><!-- react-text: 47 -->Ian Danforth<!-- /react-text --><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="48">•</span><!-- react-text: 49 -->Engineering<!-- /react-text --></span></div><div class="md_back_wPb tachyons_mt4_3dV tachyons_ttc_3Js" data-reactid="50"><span class="index_iconMarker_30J" data-reactid="51"><span class="index_icon_FKO tachyons_mr1_28B tachyons_relative_1fO theme_color-blue-dark_2u0" data-reactid="52"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;" data-reactid="53"><g data-reactid="54"><path d="m26.3 10v20q0 0.6-0.4 1t-1 0.4-1-0.4l-10-10q-0.5-0.4-0.5-1t0.5-1l10-10q0.4-0.4 1-0.4t1 0.4 0.4 1z" data-reactid="55"></path></g></svg></span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/blog/" data-reactid="56"><!-- react-text: 57 -->All <!-- /react-text --><!-- react-text: 58 -->Blog<!-- /react-text --><!-- react-text: 59 --> Posts<!-- /react-text --></a></span></div></div></section></article></main><div class="index_footbar_1sx tachyons_w-100_1xC" data-reactid="60"><footer class="index_footer_1R8 tachyons_br--bottom_1e0 tachyons_br2_rOa tachyons_center_iwf tachyons_f6_14U tachyons_mw-100_ge3 tachyons_mw7-m_FjT tachyons_mw8-l_KcP tachyons_pv4_1RQ tachyons_silver_3lN tachyons_tc_3ab" data-reactid="61"><span data-reactid="62"><!-- react-text: 63 -->© <!-- /react-text --><!-- react-text: 64 -->2016<!-- /react-text --><!-- react-text: 65 --> <!-- /react-text --><!-- react-text: 66 --> <!-- /react-text --><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/" data-reactid="67">Numenta</a></span><span class="index_mark_33a tachyons_dib_1gH tachyons_h1_Kza tachyons_mh3_2gH tachyons_relative_1fO tachyons_w1_1jO" data-reactid="68"><img alt="Numenta Logo Mark" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H" src="/numenta-web/87b23beb8a4b7dea7d88099bfb28d182.svg" title="Numenta" data-reactid="69"/></span><span data-reactid="70"><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/legal/terms/" data-reactid="71">Terms</a><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="72">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/legal/privacy/" data-reactid="73">Privacy</a><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="74">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/sitemap/" data-reactid="75">Sitemap</a><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="76">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="https://github.com/numenta/numenta-web" data-reactid="77">Source</a></span></footer></div></div></div><script src="/numenta-web/bundle.js?v=0.2.80"></script></body></html>