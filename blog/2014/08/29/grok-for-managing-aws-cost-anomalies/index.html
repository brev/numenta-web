<!DOCTYPE html>
 <html lang="en"><head><title data-react-helmet="true">Grok for Managing AWS Cost Anomalies | Numenta.com</title><meta data-react-helmet="true" charset="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="X-UA-Compatible" content="IE=edge"/><meta data-react-helmet="true" name="author" content="Numenta"/><meta data-react-helmet="true" name="description" content="Numenta — Leading the New Era of Machine Intelligence"/><meta data-react-helmet="true" name="generator" content="© Numenta.com v0.2.43 Tue Aug 09 2016 15:43:59 GMT-0700 Gatsby.js"/><meta data-react-helmet="true" name="keywords" content="@TODO,TODO,TODO"/><link data-react-helmet="true" rel="shortcut icon" href="/numenta-web/assets/icons/favicon.ico?v=0.2.43"/><link data-react-helmet="true" rel="stylesheet" href="/numenta-web/styles.css?v=0.2.43"/></head><body class="body"><div id="react-mount"><div class="index_layout_2AP tachyons_f4_1Zt tachyons_f5-ns_QvA tachyons_fw4_3tj" data-reactroot="" data-reactid="1" data-react-checksum="-2042529419"><div class="index_appbar_2mn tachyons_bg-white_WF0 tachyons_fixed_I-c tachyons_h3_bmk tachyons_ph3_Qxl tachyons_shadow-1_8y5 tachyons_top-0_2pS tachyons_w-100_1xC" data-reactid="2"><header class="index_header_Rq- tachyons_center_iwf tachyons_cf_g7R tachyons_mw-100_ge3 tachyons_mw7-m_FjT tachyons_mw8-l_KcP" data-reactid="3"><div class="index_logo_36F tachyons_fl_wJK tachyons_relative_1fO tachyons_top-1_UVW" data-reactid="4"><a class="index_imagelink_21G tachyons_dim_1n1 tachyons_link_2zV theme_color-blue_2lo index__visited_2Z4" href="/numenta-web/" data-reactid="5"><img alt="Numenta Logo" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H" src="/numenta-web/78d7c43a01aa37f432db4cb375ee2b7f.svg" title="Numenta" data-reactid="6"/></a></div><div class="index_search__jD tachyons_fr_2Nn tachyons_mt3_11A" data-reactid="7"><form accept-charset="UTF-8" autocomplete="off" class="index_form_G7v tachyons_pa0_RbR tachyons_mb3_1mV tachyons_mh0_2XV tachyons_mt0_12u" enctype="multipart/form-data" method="post" data-reactid="8"><span class="index_label_SMm tachyons_clip_2YG" data-reactid="9"><label class="index_formLabel_3xq tachyons_f5_2mB tachyons_fl_wJK tachyons_fw6_1NV tachyons_mr3_1Ez tachyons_relative_1fO tachyons_v-top_1JD tachyons_w4_3jJ" for="q" data-reactid="10">Search</label></span><span class="index_query_2PZ tachyons_fl_wJK tachyons_flex_22H tachyons_mb2_1U4 tachyons_relative_1fO tachyons_w4_3jJ tachyons_w5-ns_1tF" data-reactid="11"><input type="search" class="index_formInput_11I tachyons_ba_1NL tachyons_b--black-20_1zc tachyons_br2_rOa tachyons_f5_2mB tachyons_flex-auto_1Fv tachyons_fw3_3xI tachyons_input-reset_3Az tachyons_pb1_2R8 tachyons_ph2_2up tachyons_pt2_3ym tachyons_silver_3lN index__focus_Yiy index_large_2Vg" id="q" name="q" placeholder="Search..." data-reactid="12"/></span><button class="index_button_2lC tachyons_br2_rOa tachyons_dim_1n1 tachyons_flex-auto_1Fv tachyons_ma0_2xh tachyons_pointer_25K index__disabled_1OX index_light_4I5 tachyons_bg-white_WF0 tachyons_bn_3W7 tachyons_f4_1Zt tachyons_pa1_3f3 theme_color-blue_2lo" type="submit" data-reactid="13"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;color:inherit;" data-reactid="14"><g data-reactid="15"><path d="m27.2 18.6q0-4.2-2.9-7.1t-7.1-2.9-7 2.9-3 7.1 2.9 7 7.1 3 7.1-3 2.9-7z m11.4 18.5q0 1.2-0.8 2.1t-2 0.8q-1.2 0-2-0.8l-7.7-7.7q-4 2.8-8.9 2.8-3.2 0-6.1-1.3t-5-3.3-3.4-5-1.2-6.1 1.2-6.1 3.4-5.1 5-3.3 6.1-1.2 6.1 1.2 5 3.3 3.4 5.1 1.2 6.1q0 4.9-2.7 8.9l7.6 7.6q0.8 0.9 0.8 2z" data-reactid="16"></path></g></svg></button></form></div></header></div><main class="index_main_3-E tachyons_bg-white_WF0 tachyons_br--bottom_1e0 tachyons_br2_rOa tachyons_center_iwf tachyons_mt5_2gs tachyons_mw-100_ge3 tachyons_mw7-m_FjT tachyons_mw8-l_KcP tachyons_pb4_38s tachyons_ph3_Qxl tachyons_ph4-l_pNz tachyons_pt3_1QC" data-reactid="17"><!-- react-empty: 18 --><!-- react-empty: 19 --><div class="md_markdown_3L9 tachyons_center_iwf tachyons_lh-copy_15f tachyons_measure_hbr tachyons_measure-wide-l_2Qf" data-reactid="20"><!-- react-empty: 21 --><div class="md_date_1QT tachyons_fw5_3Jq tachyons_lh-copy_15f tachyons_mb2_1U4 tachyons_ttc_3Js" data-reactid="22"><time class="index_time_1rc" datetime="2014-08-29T00:00:00-07:00" data-reactid="23">Fri, Aug 29, 2014</time><span data-reactid="24"><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="25">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/blog/" data-reactid="26">blog</a></span></div><section class="index_section_3GC" data-reactid="27"><h1 class="index_headline_36i tachyons_f2_ipM index__base_3qa tachyons_black_2yD tachyons_fw6_1NV tachyons_lh-title_1xo tachyons_mv1_3WP tachyons_pa0_RbR" data-reactid="28">Grok for Managing AWS Cost Anomalies</h1><article class="index_article_2RF tachyons_mb1_2-H tachyons_mt3_11A" data-reactid="29"><div class="md_author_1KZ tachyons_lh-copy_15f tachyons_relative_1fO" data-reactid="30"><span class="index_subtle_3vb tachyons_silver_3lN" data-reactid="31"><span class="index_avatar_3mh tachyons_dib_1gH tachyons_mr2_2P1 tachyons_relative_1fO tachyons_v-mid_2J0" data-reactid="32"><img alt="Jared Weiss" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H index_border_3eG tachyons_b--black-10_14L tachyons_ba_1NL index_round_1wy tachyons_br-100_aI5" src="/numenta-web/272cc37098d1486cd9db144772d68ea5.png" title="Jared Weiss" data-reactid="33"/></span><!-- react-text: 34 -->Jared Weiss<!-- /react-text --><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="35">•</span><!-- react-text: 36 -->Engineering Intern<!-- /react-text --></span></div><img alt="Grok for Managing AWS Cost Anomalies" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H index_border_3eG tachyons_b--black-10_14L tachyons_ba_1NL index_mw_3jc tachyons_mw-100_ge3 index_shadow_14n tachyons_shadow-4_3--" src="/numenta-web/blog/2014/08/29/grok-for-managing-aws-cost-anomalies/../images/image.png" data-reactid="37"/><div class="md_content_11f tachyons_mb4_3KK md__layout-dropcap_ESa" data-reactid="38"><p><strong>NOTE:</strong> Numenta has <a href="/press/numenta-announces-licensing-of-grok-for-it-to-avik-partners.html">announced a strategic partnership with Avik Partners</a>,
please read more about the future of
<a href="http://grokstream.com">Grok for IT Analytics</a>.</p>
<p>While the forefront issue in an engineer’s mind might be that builds are
consistently running and production servers aren’t experiencing unexpected
downtime, a business executive might have completely different concerns.  As an
experiment, I decided to address what I believed might be a primary concern of
IT managers: ensuring that AWS costs are managed to budget and costs are
minimized.  My approach was to feed cost data to Grok to identify any anomalies
in spending relative to the normal pattern of spend.</p>
<p>Using Grok’s custom metrics, I sampled and fed AWS burnrate statistics into Grok
for regional burnrates as well as instance counts. Since AWS instances vary in
pricing, spinning up one EC2 I2-8xlarge instance could be just as much of a
problem as spinning up several T2-micro instances. Therefore, even though most
anomalies would likely be caught by both metrics, I wanted to be sure that
unexpected corner-case anomalies would be caught too.</p>
<p>In fact, at the beginning of my experiment, the burnrate monitor was able to
detect an anomaly in AWS’s us-east-1 region. For ease-of-use, most of the
servers we use reside in the us-west-2 region, however all of our testing for
marketplace AMIs happens on us-east-1 servers. For that reason, early on August
4th, Grok detected an anomaly when our QA team began testing one of our
marketplace candidates. Since Grok had learned the regular pattern of nightly
AMI tests, when all of a sudden an instance was manually created, Grok quickly
notified me.</p>
<h5>Grok Web UI showing Normal Pattern</h5>
<p><img src="../images/1.png" alt="Grok Screenshot"></p>
<h5>Grok Web UI showing anomaly due to launch of AMI tests</h5>
<p><img src="../images/2.png" alt="Grok Screenshot"></p>
<p>In this case because I knew the QA team was starting a new cycle of testing, I
was able to easily identify the cause of the anomaly.  Nevertheless, it was
useful that Grok identified the increased in instances and impact on costs. Had
I not expected the anomaly, I would have been able to quickly find the source of
the problem, whether it be a faulty testing script that forgets to delete
automatically created instances on failure, or an accidentally changed limit on
an auto-scaling group. In today’s dynamic and virtualized IT environments, it’s
great to have this peace of mind that jumps in costs outside of normal patterns
can be identified quickly. Not only can Grok tell an engineer that a server is
operating normally, but it can also report to a senior manager that their
company isn’t incurring unexpected costs.</p>
<p>In use cases with noisier data (such as burnrate for our us-west-2 region where
most of our instances are located), the burnrate monitor still excels at
detecting anomalous spending. Large, anomalous jumps in spending that could be
attributed to a larger than usual instance being spun up or accidentally setting
the minimum instance count of an auto-scaling group to 500 instead of 50 are
quickly recognized, enabling the proper team member to rapidly address the
issue. Rather than receiving an enormous (and unexpected) bill at the end of the
month, the cost and likelihood of a serious AWS mistake is substantially
mitigated.   During my experiment Grok was able to identify an anomaly due to an
error in the configuration of our auto-scaling group, causing it to grow
unnecessarily large.  Despite a more noisy usage pattern for this AWS region,
Grok was able to identify it.</p>
<h5>Grok Web UI showing anomaly due to error in auto-scaling group configuration</h5>
<p><img src="../images/3.png" alt="Grok Screenshot"></p>
<p>Grok can also learn new behaviors. When we began to spin up several more costly
instances for testing, Grok first detected this behavior as anomalous, but as we
continued testing on the larger instances, Grok taught itself the new pattern
and stopped flagging the increased burnrates as anomalous. Especially with
Amazon continually announcing new instance sizes and costs, unexpected changes
to server burnrate are inevitable, and it’s necessarily important to be able to
learn the new burnrate patterns.</p>
<h5>Grok Web UI showing learning of new pattern</h5>
<p><img src="../images/4.png" alt="Grok Screenshot"></p>
</div><div class="md_author_1KZ tachyons_lh-copy_15f tachyons_relative_1fO" data-reactid="39"><span class="index_subtle_3vb tachyons_silver_3lN" data-reactid="40"><span class="index_avatar_3mh tachyons_dib_1gH tachyons_mr2_2P1 tachyons_relative_1fO tachyons_v-mid_2J0" data-reactid="41"><img alt="Jared Weiss" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H index_border_3eG tachyons_b--black-10_14L tachyons_ba_1NL index_round_1wy tachyons_br-100_aI5" src="/numenta-web/272cc37098d1486cd9db144772d68ea5.png" title="Jared Weiss" data-reactid="42"/></span><!-- react-text: 43 -->Jared Weiss<!-- /react-text --><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="44">•</span><!-- react-text: 45 -->Engineering Intern<!-- /react-text --></span></div><div class="md_back_wPb tachyons_mt4_3dV tachyons_ttc_3Js" data-reactid="46"><span class="index_iconMarker_30J" data-reactid="47"><span class="index_icon_FKO tachyons_mr1_28B tachyons_relative_1fO theme_color-blue-dark_2u0" data-reactid="48"><svg fill="currentColor" preserveAspectRatio="xMidYMid meet" height="1em" width="1em" viewBox="0 0 40 40" style="vertical-align:middle;" data-reactid="49"><g data-reactid="50"><path d="m26.3 10v20q0 0.6-0.4 1t-1 0.4-1-0.4l-10-10q-0.5-0.4-0.5-1t0.5-1l10-10q0.4-0.4 1-0.4t1 0.4 0.4 1z" data-reactid="51"></path></g></svg></span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/blog/" data-reactid="52"><!-- react-text: 53 -->All <!-- /react-text --><!-- react-text: 54 -->blog<!-- /react-text --><!-- react-text: 55 --> Posts<!-- /react-text --></a></span></div></article></section></div></main><div class="index_footbar_1sx tachyons_w-100_1xC" data-reactid="56"><footer class="index_footer_1R8 tachyons_br--bottom_1e0 tachyons_br2_rOa tachyons_center_iwf tachyons_f6_14U tachyons_mw-100_ge3 tachyons_mw7-m_FjT tachyons_mw8-l_KcP tachyons_pv4_1RQ tachyons_silver_3lN tachyons_tc_3ab" data-reactid="57"><span data-reactid="58"><!-- react-text: 59 -->© <!-- /react-text --><!-- react-text: 60 -->2016<!-- /react-text --><!-- react-text: 61 --> <!-- /react-text --><!-- react-text: 62 --> <!-- /react-text --><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/" data-reactid="63">Numenta</a></span><span class="index_mark_33a tachyons_dib_1gH tachyons_h1_Kza tachyons_mh3_2gH tachyons_relative_1fO tachyons_w1_1jO" data-reactid="64"><img alt="Numenta Logo Mark" class="index_image_29g tachyons_br2_rOa tachyons_mb1_2-H" src="/numenta-web/87b23beb8a4b7dea7d88099bfb28d182.svg" title="Numenta" data-reactid="65"/></span><span data-reactid="66"><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/legal/terms/" data-reactid="67">Terms</a><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="68">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/legal/privacy/" data-reactid="69">Privacy</a><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="70">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="https://github.com/numenta/numenta-web" data-reactid="71">Source</a><span class="index_spacer_2lH tachyons_mh1_-Z3 tachyons_silver_3lN" data-reactid="72">•</span><a class="index_textlink_PFK tachyons_dim_1n1 tachyons_link_2zV tachyons_underline-hover_1xv theme_color-blue-dark_2u0 index__visited_1Kr" href="/numenta-web/sitemap/" data-reactid="73">Sitemap</a></span></footer></div></div></div><script src="/numenta-web/bundle.js?v=0.2.43"></script></body></html>